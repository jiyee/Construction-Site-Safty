<ion-view title="list">
    <ion-header-bar align-title="center" class="bar-light">
        <button class="button" ng-click="toBack()">返回</button>
        <h1 class="title">数据同步</h1>
    </ion-header-bar>

    <ion-content padding="true">
        <div class="button-bar">
            <button class="button button-block button-positive" ng-click="addCaptureRange()">
                添加安全检查
            </button>
            <button class="button button-block button-positive" ng-click="addCheckRange()">
                添加日常巡检
            </button>
        </div>

        <ul class="card" ng-repeat="item in data.ranges">
            <div class="item item-divider item-icon-right">
                <i class="icon ion-close" style="font-size: 20px;" ng-click="removeRange(item);"></i>
                {{item.name}}
            </div>

            <li class="item item-input item-select">
                <div class="input-label">
                    关联人员：
                </div>
                <select ng-model="item.username" ng-options="item.name as item.name for item in users">
                    <option value="" selected></option>
                </select>
            </li>

            <li class="item item-input item-select" ng-click="openDatePicker(item, 'start_date')">
                <div class="input-label">
                    关联起始日期：
                </div>
                <input type="text" ng-model="item.formatted_start_date">
            </li>
            <li class="item item-input item-select" ng-click="openDatePicker(item, 'end_date')">
                <div class="input-label">
                    关联终止日期：
                </div>
                <input type="text" ng-model="item.formatted_end_date">
            </li>
        </ul>

        <div class="button-bar">
            <button class="button button-block button-positive" ng-click="sync()">
                确定
            </button>
        </div>

    </ion-content>
</ion-view>