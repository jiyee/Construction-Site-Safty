<ion-view title="review">
    <ion-header-bar align-title="center" class="bar-calm">
        <button class="button" ng-click="saveAndReturn(data)">返回</button>
        <h1 class="title">{{data.review.name}}</h1>
    </ion-header-bar>

    <ion-content padding="true">
        <div class="card" ng-repeat="item in data.review.items" ng-class="{'FAIL': 'status-fail', 'PASS': 'status-pass', 'UNCHECK': 'status-uncheck'}[item.status]">
            <div class="item item-text-wrap">
                {{item.index}}. {{item.name}}
            </div>

            <div class="item item-text-wrap row" style="padding: 12px;" ng-if="data.table.type == '安全检查'">
                <label class="col col-33 text-center">
                    <input type="radio" name="group-{{item.index}}" value="0" ng-model="item.score" style="width: 16px; height: 16px;" ng-click="changeScore(item, 0)">合格
                </label>

                <label class="col col-33 text-center">
                    <input type="radio" name="group-{{item.index}}" value="1" ng-model="item.score" style="width: 16px; height: 16px;" ng-click="changeScore(item, 1)">不合格
                </label>
            </div>

            <div class="item item-text-wrap row" style="padding: 12px;" ng-if="data.table.type == '考核评价'">
                <label for="{{score}}" ng-repeat="score in item.range" style="padding-right: 16px; font-size: 16px; line-height: 2em;">
                    <input type="radio" name="group-{{item.index}}" value="{{score}}" style="width: 16px; height: 16px;" ng-model="item.score" ng-click="changeScore(item, score)">{{-score}}分
                </label>
            </div>

            <div class="item item-input-inset row" ng-show="item.status != 'UNCHECK' && item.score > 0" style="padding-top: 6px;">
                <label class="item-input col col-75" style="padding: 2px 0 0px 15px">
                    <input type="text" ng-model="item.comments" placeholder="填写备注">
                </label>
                <button class="button button-small button-positive col col-25" ng-click="takePhoto(item)" ng-hide="item.image_url">拍照存档</button>
                <img ng-src="{{item.image_url}}" ng-show="item.image_url" class="col col-25">
            </div>
        </div>
    </ion-content>
</ion-view>
